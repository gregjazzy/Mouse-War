// Niveaux du jeu - 3 niveaux avec difficulté croissante

// Légende des tiles:
// 0 = Vide
// 1 = Mur
// 2 = Fromage
// 3 = Piège (pics)
// 4 = Feu
// 5 = Ennemi patrouilleur
// 9 = Sortie

const LEVELS = {
    1: {
        name: "Le Garde-Manger",
        difficulty: "facile", // 1 étoile
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,0,0,1,1,0,0,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,2,0,1],
            [1,0,0,1,0,0,0,0,0,1,0,2,0,1],
            [1,0,0,0,0,2,0,0,0,0,0,1,0,1],
            [1,0,1,0,0,1,1,0,0,2,0,0,0,1],
            [1,0,0,0,0,0,0,0,0,1,0,0,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    2: {
        name: "La Cave Dangereuse",
        difficulty: "moyen", // 2 étoiles
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,2,0,1],
            [1,0,1,1,1,0,0,0,0,1,0,1,1,1,0,0,1,1,0,1],
            [1,0,0,2,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,0,1,1,0,1,0,0,5,0,0,0,1,1,0,0,1,0,1],
            [1,1,0,0,0,0,1,0,0,1,1,1,0,0,0,0,0,1,0,1],
            [1,0,0,0,0,3,0,0,0,0,0,0,0,0,2,0,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,0,1,0,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1],
            [1,0,0,1,0,0,3,0,0,1,1,1,0,0,0,5,1,0,2,1],
            [1,0,0,1,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,1],
            [1,0,0,0,0,0,0,0,0,0,2,0,3,0,0,0,0,0,0,1],
            [1,1,1,1,0,0,1,1,1,1,1,0,0,1,0,0,0,1,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    3: {
        name: "Le Piège Fatal",
        difficulty: "difficile", // 3 étoiles
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,1],
            [1,0,1,1,1,0,0,1,0,0,0,1,0,1,1,1,1,1,0,0,1,1,1,1,0,1,0,1],
            [1,0,0,2,0,0,0,1,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,0,0,1,1,1,0,1,0,1,1,1,0,0,1,0,0,0,3,0,0,0,1,0,0,1,0,1],
            [1,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,1,1,1,1,0,1,0,0,0,0,1],
            [1,0,0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1],
            [1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,5,0,1,1,0,0,3,0,0,1,1,1,1,1,0,0,3,0,1,1,1,0,0,1,1,0,1],
            [1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,1,0,5,2,0,0,0,0,0,1,0,0,0,3,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,0,0,0,3,0,0,0,4,0,0,1,1,1,0,0,0,3,0,1,0,0,0,3,0,1,0,1],
            [1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,1,0,1,1,1,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,1,1,1,0,0,1,0,0,0,3,0,1,0,0,1,1,0,5,0,0,1,0,0,0,1,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    // Niveau 4 - Château Hanté
    4: {
        name: "Château Hanté",
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,1],
            [1,0,1,1,1,0,1,0,1,1,1,1,0,1,0,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,0,1,1,0,1,1,1,0,1,0,3,3,3,0,1,0,1,1,1,0,1,1,0,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1],
            [1,1,1,1,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,1,0,1,0,1,1,1,1,0,1],
            [1,0,0,0,0,1,0,1,0,0,0,1,5,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,1],
            [1,0,1,1,1,1,0,1,0,1,1,0,1,1,1,0,1,1,0,1,0,1,1,1,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,1,0,0,0,0,0,5,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1],
            [1,1,1,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,0,1,1,1,1,0,1,0,3,3,3,0,1,0,1,1,1,1,0,1,1,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,1,1,1,0,1,0,1,1,1,1,0,0,5,0,0,1,1,1,1,0,1,1,1,1,1,0,1,0,1],
            [1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    // Niveaux 5-10 : Chaque niveau avec son propre design thématique
    5: {
        name: "Caverne de Lave",
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,4,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,2,0,0,0,1],
            [1,0,1,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,1],
            [1,0,0,2,0,0,0,1,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,4,1],
            [1,0,0,1,0,1,0,1,0,1,1,1,1,0,1,0,0,3,3,3,0,0,1,0,0,1,1,1,1,1],
            [1,1,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,1,1,1,1,0,1,0,0,4,0,0,0,1],
            [1,0,0,0,0,0,0,0,0,4,1,1,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,0,4,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,1],
            [1,5,0,1,1,1,0,4,4,0,1,1,1,1,1,0,3,3,0,1,1,1,1,1,0,0,1,1,0,1],
            [1,1,1,1,0,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,0,0,4,0,0,0,0,0,0,4,1,0,0,2,0,0,0,0,0,1,0,5,0,0,4,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1],
            [1,0,0,3,3,3,0,0,4,4,4,1,1,1,0,0,4,4,0,1,0,0,3,3,0,1,0,0,4,1],
            [1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,1,0,1,1,1,1,1,0,1,1,1],
            [1,0,0,2,0,4,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,1],
            [1,1,1,1,1,0,1,0,3,3,3,3,1,0,0,1,1,0,5,0,0,1,1,1,0,1,0,4,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    6: {
        name: "Temple Glacé",
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,2,0,0,0,1],
            [1,0,1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1,1,1,1,0,1,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,1,1,1,0,1,1,1,1,1,0,1,0,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,0,1,1,1],
            [1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,2,0,1],
            [1,0,1,1,1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],
            [1,1,1,1,0,1,1,1,1,1,0,1,0,1,0,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    7: {
        name: "Égouts Aquatiques",
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1],
            [1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1],
            [1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,1],
            [1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    8: {
        name: "Tour Électrique",
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],
            [1,0,1,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,5,0,0,0,1,0,0,0,1],
            [1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1],
            [1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],
            [1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1],
            [1,0,0,0,1,0,1,0,0,0,0,3,3,3,0,0,0,0,0,2,0,1,0,0,0,0,0,0,0,1],
            [1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,0,0,0,1,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
            [1,0,1,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],
            [1,0,1,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    9: {
        name: "Donjon Nocturne",
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,2,0,0,0,1],
            [1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,0,1,0,1],
            [1,0,0,2,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,1,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,3,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,1],
            [1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,1],
            [1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1],
            [1,0,0,2,0,0,0,5,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],
            [1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1],
            [1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
            [1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    10: {
        name: "Boss Final",
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,1],
            [1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,3,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,1],
            [1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
            [1,0,0,3,0,0,0,0,0,0,0,0,0,5,0,5,0,0,0,0,0,0,0,0,0,3,0,0,0,1],
            [1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,0,3,0,0,0,0,0,0,0,3,3,3,3,3,3,3,0,0,0,0,0,0,0,3,0,0,0,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    },
    
    // Niveau 11 - Jardin Paisible (MODE GRATUIT)
    11: {
        name: "Jardin Paisible",
        startX: 2,
        startY: 1,
        map: [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,1],
            [1,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,0,1],
            [1,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,1],
            [1,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1],
            [1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,1],
            [1,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,1],
            [1,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,1],
            [1,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,1],
            [1,0,0,2,0,0,0,0,0,0,0,0,0,0,2,0,9,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ]
    }
};

function getLevelData(levelNumber) {
    return LEVELS[levelNumber] || null;
}

function getTotalLevels() {
    return Object.keys(LEVELS).length;
}

// Générer les aperçus de niveaux dans le menu
function generateLevelPreviews() {
    for (let i = 1; i <= 3; i++) {
        const preview = document.getElementById(`preview${i}`);
        if (!preview) continue;
        
        const levelData = LEVELS[i];
        const canvas = document.createElement('canvas');
        canvas.width = 200;
        canvas.height = 150;
        const ctx = canvas.getContext('2d');
        
        const map = levelData.map;
        const tileW = canvas.width / map[0].length;
        const tileH = canvas.height / map.length;
        
        // Dessiner une miniature du niveau
        for (let row = 0; row < map.length; row++) {
            for (let col = 0; col < map[row].length; col++) {
                const tile = map[row][col];
                const x = col * tileW;
                const y = row * tileH;
                
                switch (tile) {
                    case 1: // Mur
                        ctx.fillStyle = '#4A5568';
                        ctx.fillRect(x, y, tileW, tileH);
                        break;
                    case 2: // Fromage
                        ctx.fillStyle = '#FFE66D';
                        ctx.beginPath();
                        ctx.arc(x + tileW/2, y + tileH/2, tileW/3, 0, Math.PI * 2);
                        ctx.fill();
                        break;
                    case 3: // Pics
                        ctx.fillStyle = '#E0E0E0';
                        ctx.beginPath();
                        ctx.moveTo(x, y + tileH);
                        ctx.lineTo(x + tileW/2, y);
                        ctx.lineTo(x + tileW, y + tileH);
                        ctx.fill();
                        break;
                    case 4: // Feu
                        ctx.fillStyle = '#FF6B6B';
                        ctx.beginPath();
                        ctx.moveTo(x + tileW/2, y);
                        ctx.lineTo(x, y + tileH);
                        ctx.lineTo(x + tileW, y + tileH);
                        ctx.fill();
                        break;
                    case 5: // Ennemi
                        ctx.fillStyle = '#8B4513';
                        ctx.beginPath();
                        ctx.arc(x + tileW/2, y + tileH/2, tileW/2.5, 0, Math.PI * 2);
                        ctx.fill();
                        break;
                    case 9: // Sortie
                        ctx.fillStyle = '#4ECDC4';
                        ctx.fillRect(x, y, tileW, tileH);
                        break;
                }
            }
        }
        
        // Ajouter le canvas au preview
        preview.innerHTML = '';
        preview.appendChild(canvas);
    }
}

// Appeler au chargement de la page
if (typeof window !== 'undefined') {
    window.addEventListener('DOMContentLoaded', generateLevelPreviews);
}

